"use strict";

let questions = {
    'Larry': ['What is Larry\'s first name?', 'What is Larry\'s last name?', 'What city was Larry born?'],
    'Nikki': ['What is my go-to Starbucks order? (Hint: 4 words)', 'What restaurant did we eat at on February 13, 2022?', 'Common phrase we text each other: brush my ____', 'Our shared Netflix password referenced this stuffed animal: ____'],
    'Xixi': ['What is the company that makes the ammonia test kit you gave me? Hint: look at your Amazon order history!', 'My favorite Chinese song (Hint: 2 characters in pinyin w/o accents, ___ ___)', 'How many yellow spines on the back of the woobles dinosaur? (Hint: Enter as a number)'],
    'Avery': ['What was the name of the series of surprise attacks launched by the Viet Cong and North Vietnamese forces during the Vietnamese New Year holiday in 1968? (Hint: two words)', 'Wikipedia tells me that the Spokane Valley Mall has a Regal Cinemas movie theater. How many movie screens does it have? (Hint: Enter as a number)', 'What day did you randomly decide to create a GitHub account? (Hint: Enter in MM/DD/YYYY format)'],
    'Trinity': ['Your research involved evaluating structural differences between SARS-CoV-2 and this predicted progenitor bat coronavirus: ______', 'Your Dawg Dash 5k race number (Hint: enter as a number)', 'What is the genus of the plant clipping you gave me?', 'There are three animal stickers on the bottom left corner of your refrigerator\'s upper door. What is the third animal?', 'tbh this question is mostly so that Nikki doesn\'t try to hack into the system since she probably can figure out most of the other answers. What are the contents of the first text message I sent at 1:37 PM PST on Friday, April 28th, 2023?'],
    'Ashley': ['Who scored the goal for OL Reign on the second game we went to? (Hint: First & Last Name)', 'How many years has your dad worked at Microsoft? (Hint: enter as a number)', 'What is my current chapter in Survivor.io?', 'What is the genus of the small bird you had to study for your animal behavior class?'],
    'Michelle': ['What is the date of the recent Lavin Spring BBQ (which I did not attend)? (Hint: Enter in MM/DD/YYYY format)', 'The odd-looking wooden structure outside of the architecture building I sent you a picture of is a _________ ____', 'What was the extra fancy product you theorized for your Lavin final project? (Hint: Appliance, one word)'],
    'Amelia': ['What is the name of the song by Paul Simon which has a lullaby-like quality to it?', 'What funky word did we encounter during a game of Balderdash early last year?', 'What is Zucc\'s favorite sauce for smoking a brisket and some ribs?', 'This ceramic artist\'s exasperating pottery line features simple labels in a hand-drawn script.'],
    'Jared': ['One day during my office hours at Mary Gates, you spontaneously appeared in the window. What day was this? (Hint: Enter in MM/DD/YYYY format)', 'What is the name of the beverage we got at Trinity Market and enjoyed together at Ashley\'s place?', 'What is the brand of your sling bag?'],
    'Benjamin': ['What is the maximum value that can be represented by a 32-bit signed integer in two\'s complement form? (Hint: As a number, no commas)', 'We toured two apartment units together when seeking housing last year. What was the first one we toured? (Hint: 5/18/22, one word)', 'What is the name of the popular outdoor shopping and entertainment center located in Rancho Cucamonga?']
};

let answers = {
    'Larry': ['0d098b1c0162939e05719f059f0f844ed989472e9e6a53283a00fe92127ac27f', '8dd835b4f3c41ad0b44f7a70c3cc24968e953c257f54ea7a90fd8478579dd816', 'a2470c9d137c1c5d3567d1180a64cb43a9269c4d6f1ff13ac8cdbaf6fc5df3b7'],
    'Nikki': ['51c7d50e28985d5a5c4222a5704a43399f839cdaf15839512e7032b6aaad6283', 'ff303f00125812256d34f4a8c0db9773b1dea06ea33fa0577487f8b7eea41158', 'aa415c4e8890cf0fec7826aec962ffbcc04534faefd2b3266c54f690d40d6e82', '1cf8531a22348eeb2abe9b891c939707aa5abfab759f1f6be7abc4a763968ebc'],
    'Xixi': ['14c2529eb4498c5d1ffd6915d05bf58a91bdda796af59f41d480d11c099d0479', '01e581b50238debeeff1334fc969e623e90ccc7666784c3291cfd2589693fb39', 'ef2d127de37b942baad06145e54b0c619a1f22327b2ebbcfbec78f5564afe39d'],
    'Avery': ['b9a05c74e0e99ddee71ac689d3ea43789d8aee06b0d100d6897389eb1b34c2a0', '6b51d431df5d7f141cbececcf79edf3dd861c3b4069f0b11661a3eefacbba918', '5dd66ae4ce1cebd96ecdac6324fc82dee694aa7a1c000100d403e8a887d5c642'],
    'Trinity': ['2593d8b4a6b2e5e2503318a5ee0970fb9c52c719deed8a59ea5ba0b1aeb69e16', '05758cd3875ad2171484c0026ccbb8adc210cd2d852407e3c7af1b751f35fdd6', '3928f9b133289388f0a1c6c7c3d477cf06169ec5c8f5fa40d04473a873344028', '877cc977e7b033e10d6e0b0d666da1f463bc51b1de48869250a0347ec1b2b8b3', 'b365bf741ee3989f3f796eba0f4a991b6a6111d11b05c10decb05a7893aba231'],
    'Ashley': ['2566286ec67293e50d83bfcd0e2bc63821abeb47d963e099a6b0d0c2cbc91b0e', '535fa30d7e25dd8a49f1536779734ec8286108d115da5045d77f3b4185d8f790', '9400f1b21cb527d7fa3d3eabba93557a18ebe7a2ca4e471cfe5e4c5b4ca7f767', 'b4ccc09f880a6e7d3987c6030e62f8412e14e706c788d8138a86ea6e1049a0ff'],
    'Michelle': ['14318c159498c45c655b05c9c06359a90e927c1e7860a60a9c9a4ea835b28b86', '39056fedb2071f0d5e6fad95e4de5e61134230893930e559a924e9c73fac41e1', '0cf35ab8cf8d2c5a4d14cb9e2e4ed472c72c7d65a5095b0ee095ce92223cf661'],
    'Amelia': ['a74ae12c667f1b3514758ea00bdc138cb8d4e66d4355d0956b84f72be496dc3a', '1c711b2fc7d33d46f1b405a31253f1427de39e8af9113dd6ee0d6c54bb0ac96d', 'daf8c892d20abe5414d325bbc61574c136f091b85acae66e23002dd5017780e8', 'a5b146f611c8859eaa686e316234a24aafaa9625845c0931b6c8df02b19c5772'],
    'Jared': ['125af9812695f2503848521f314a852913325402489b9c0219bd8a2538dd75c2', '4f40075829b0db17ebfde7b5f4dfa40f61f0d06a07e9034afbfb8620a93d49f4', '7a741975f67a3a0a7d65240bd0d9d2326d4bc9e8fc0df3ff0aaeb5e155f66f90'],
    'Benjamin': ['972dcafa6fb4c2c88bce752fca4ab18c6bd88599330a4ad9813915b05bfbe76d', 'c425bc5705fcbde31e70955b8bf80e1d2798f606e4c7e8f61d34d4d6f4ae748a', '59d7d911001cbb4a60d89ea359bd3ae3d3cd4e3373789ab90b2d5519332fa5c1']
};

// Haha. Classic Benjamin move. You thought you could look at the code to find all the secret messages?
// THINK AGAIN. All the correct answers are hashed and hidden away, and the notes themselves are encrypted with
// a 128-bit key AES block cipher. The secret messages require the correct answers to form the decryption key.
let encryptedNotes = {
    'Larry': [241,78,73,133,138,139,126,38,130,123,209,61,58,143,153,92,19,113,184,90,231,45,38,73,52,103,46,140,62,106,67,27,234,189,157,163,251,168,30,154,222,33,247,248,225,189,151,122,50,157,13,181,80,73,207,115,56,51,26,123,128,173,84,113,249,66,213,83,109,60,205,84,44,177,104,123,73,131,185,104,56,189,137,147,224,145,171,72,152,235,215,130,43,63,56,169,220,174,114,68,82,53,117,108,218,94],
    'Nikki': [203,175,44,85,54,3,219,237,63,79,192,126,114,129,82,133,57,96,107,156,52,14,244,159,129,123,81,35,30,249,215,158,68,61,33,53,224,158,127,95,200,56,73,24,146,98,69,169,18,105,124,59,57,197,127,30,120,231,221,80,66,211,198,194,156,242,202,45,203,96,168,180,91,26,84,165,80,57,157,99,201,177,108,28,43,163,187,173,127,34,35,64,121,161,112,249,3,32,249,160,55,170,2,59,168,49,29,214,84,239,18,221,113,109,22,15,203,123,119,4,54,249,225,240,223,77,227,119,188,58,162,146,159,11,190,172,234,232,196,6,200,41,254,53,84,195,205,217,160,83,185,52,144,188,74,235,220,54,110,65,9,229,83,174,12,3,69,199,162,193,222,89,43,11,93,52,113,56,156,87,191,112,152,101,241,68,39,132,157,60,0,41,79,128,133,167,179,255,131,177,61,197,15,133,157,32,230,108,116,147,2,138,50,161,171,247,92,79,87,56,200,188,11,126,91,47,254,195,46,96,225,39,61,111,73,212,124,99,149,37,65,24,144,175,240,161,183,73,220,6,97,244,190,129,250,170,65,152,87,169,185,50,237,157,235,150,215,172,169,17,67,222,70,189,96,252,115,28,157,199,95,245,49,134,253,106,211,43,44,190,113,100,39,70,27,78,90,142,211,18,119,236,79,141,33,80,138,196,123,145,224,144,255,6,5,73,2,0,84,6,133,237,230,33,175,17,139,26,104,175,104,148,32,79,9,136,94,85,45,220,93,89,201,171,144,134,235,15,44,250,5,70,181,222,120,210,131,77,159,131,198,186,167,181,198,250,58,149,36,67,239,40,175,8,210,195,30,6,81,116,91,192,200,6,16,176,128,215,77,158,111,169,129,137,151,185,75,62,47,164,134,206,213,214,174,86,34,218,126,210,144,136,207,176,96,64,186,162,234,233,25,12,9,16,107,135,105,26,216,253,164,117,253,232,139,163,26,239,134,82,60,1,215,229,98,29,74,174,62,98,13,75,137,105,237,152,34,63,184,36,145,3,38,176,59,116,153,136,101,163,247,149,136,228,120,17,33,93,222,200,108,126,213,160,48,156,195,140,107,181,4,86,181,138,81,237,188,192,127,190,124,153,74,4,56,192,116,2,204,23,237,113,236,181,86,126,34,2,79,225,195,213,25,113,218,137,121,248,97,114,33,155,7,136,119,225,224,133,196,81,21,110,117,247,191,31,26,160,12,122,176,21,181,78,30,156,187,132,20,51,48,88,182,9,204,14,120,1,5,44,106,6,28,177,102,67,28,63,165,11,227,208,177,223,104,241,105,192,15,73,11,238,159,207,252,220,226,236,3,61,37,238,36,37,130,114,232,7,68,191,191,20,247,47,60,110,197,148,85,126,69,153,7,116,36,79,114,181,23,109,230,193,224,238,135,212,17,174,233,124,226,21,96,173,65,238,233,7,110,234,67,172,71,40,98,147,77,249,20,166,169,204,89,53,73,249,99,57,99,8,63,122,99,136,72,75,221,228,38,37,237,190,115,15,216,12,101,253,60,229,55,189,84,130,94,226,56,18,117,148,228,173,102,18,15,122,22,165,128],
    'Xixi': [186,100,236,223,91,18,75,88,50,137,217,77,43,177,153,54,242,138,123,121,31,180,57,52,178,33,82,64,33,124,95,242,111,75,31,36,133,15,137,178,6,170,215,5,75,62,214,105,161,159,70,28,200,213,146,208,184,3,226,87,145,152,121,121,68,39,230,40,45,150,216,245,188,116,23,35,87,207,49,16,40,31,194,162,142,202,205,14,233,37,86,226,153,190,164,68,236,100,165,82,162,48,66,199,77,213,63,213,169,160,175,221,77,5,145,68,118,114,134,241,2,2,223,28,144,154,84,154,202,211,233,138,135,183,2,213,99,247,133,145,215,135,213,132,12,175,29,84,217,218,124,140,171,132,35,58,59,3,137,7,60,193,11,226,165,239,71,168,206,178,187,61,151,54,95,215,19,243,56,160,7,38,55,205,136,82,214,115,243,104,129,246,53,242,192,54,166,39,155,164,246,59,244,10,77,163,154,104,85,214,150,141,202,12,101,120,125,95,166,40,41,93,51,194,171,128,28,160,214,121,47,161,154,252,86,122,12,42,82,190,154,86,1,180,15,84,215,239,203,219,115,157,62,103,141,16,190,201,164,18,81,103,205,109,223,17,218,196,96,178,251,52,24,91,52,125,73,171,144,121,3,165,153,84,189,134,121,169,254,158,56,28,87,81,102,123,137,214,35,37,227,190,15,224,207,94,134,135,95,102,59,152,65,139,235,196,198,90,11,11,231,225,98,210,253,233,28,185,73,252,201,56,254,55,56,107,27,237,241,3,73,76,189,251,45,39,42,139,212,114,4,206,193,185,154,94,111,214,48,109,242,59,248,126,196,107,32,52,171,144,197,41,123,52,72,150,198,234,138,7,119,125,108,43,72,242,74,69,72,58,225,125,183,54,113,62,181,108,43,63,95,112,201,202,168,40,111,129,50,28,177,6,201,40,141,237,142,226,210,148,143,46,175,242,239,53,128,91,69,131,154,149,188,122,249,68,127,194,196,8,11,70,125,158,245,151,24,206,77,72,108,186,138,160,195,126,189,177,158,231,251,243,14,253,191,138,91,117,247,9,66,126,209,123,52,187,134,213,245,28,82,198,15,202,145,252,68,186,131,16,12,148,8,51,165,186,53,77,106,62,42,92,88,157,144,172,53,100,11,229,38,93,101,91,122,140,179,41,153,133,35,103,129,41,227,54,215,61,130,32,117,124,39,29,107,34,133,160,46,84,150,40,38,148,218,26,49,174,220,158,238,241,73,57,162,185,71,15,221,30,174,169,238,220,145,3,162,213,195,172,43,35,34,63,150,189,218,104,210,199,240,197,56,211,107],
    'Avery': [186,19,53,238,106,10,154,171,139,222,77,186,38,135,253,178,209,110,191,183,117,151,173,238,249,70,220,169,135,171,47,77,204,142,219,150,100,46,104,30,89,197,129,140,61,216,29,181,233,68,80,183,102,254,18,138,240,92,84,145,75,202,79,190,187,155,88,103,169,62,12,68,242,215,153,138,163,240,125,244,161,52,252,191,237,41,61,160,122,212,1,84,113,175,250,8,52,246,231,7,134,78,228,42,65,89,252,126,141,16,242,102,225,90,233,81,149,186,123,37,44,66,251,17,131,167,38,100,21,17,77,30,233,254,12,88,64,94,254,231,74,93,208,129,251,162,118,222,145,117,7,200,245,250,234,98,75,42,159,190,250,189,116,65,19,7,72,25,236,167,134,20,93,40,28,1,8,61,1,68,232,24,227,189,248,63,231,59,160,90,138,58,177,80,232,118,245,49,162,156,169,208,91,199,22,107,187,192,145,184,115,229,232,187,33,168,189,33,90,238,107,200,190,51,4,143,5,229,141,21,184,179,144,185,196,33,224,38,202,200,253,162,211,253,98,147,202,188,250,167,112,58,135,87,93,87,25,91,127,92,53,71,250,154,127,122,2,181,215,194,194,244,202,3,43,25,124,238,5,77,41,217,139,50,178,73,96,85,133,148,63,25,224,192,116,196,222,13,224,12,210,124,67,202,69,61,144,109,246,47,147,223,115,84,211,192,183,27,191,34,124,0,104,225,9,11,61,81,104,76,139,112,15,227,52,106,126,205,123,7,40,209,234,89,173,37,205,1,117,110,35,82,145,188,7,168,69,15,127,54,144,117,198,118,46,131,161,242,86,133,45,90,46,134,122,116,183,137,65,126,215,151,29,149,161,134,253,200,216,37,67,209,173,19,119,240,253,214,135,123,61,7,219,182,239,126,111,173,164,20,220,72,211,177,27,42,244,216,137,81,250,19,164,179,91,9,180,64,39,79,186,81,88,103,251,61,166,84,44,187,13,179,9,165,170,181,149,181,175,226,1,144,11,57,180,67,233,187,18,212,230,58,205,102,225,80,51,144,127,159,78,9,121,31,197,21,105,98,22,247,224,199,217,189,240,206,17,6,29,30,99,199,84,102,77,4,117,73,221,56,160,205,99,132,145,126,89,59,39,158,172,199,129,221,91,133,166,246,158,216,132,142,182,221,140,213,165,106,78,13,85,42,1,82,41,31,238,72,218,104,62,42,193,127,172,78,95,150,151,223,108,2],
    'Trinity': [200,188,27,129,210,128,101,236,156,213,117,150,28,72,59,244,45,143,35,97,63,107,133,25,183,179,16,219,25,85,43,61,168,90,127,246,223,2,26,113,170,80,252,155,207,122,190,191,52,253,184,236,192,52,150,19,241,213,236,225,34,115,255,141,86,216,124,159,107,114,93,121,17,33,252,38,122,185,203,114,164,184,233,106,188,112,132,74,221,55,53,167,199,164,28,48,171,31,225,105,176,92,179,4,171,213,128,44,255,196,216,214,167,142,115,88,153,207,63,104,120,107,145,85,8,105,65,81,164,45,32,55,50,89,180,229,27,150,167,230,89,17,113,170,89,216,86,43,125,114,118,229,46,185,61,174,158,204,171,231,135,71,6,108,154,115,225,240,77,192,246,209,147,168,188,25,160,207,86,208,119,97,235,53,36,197,44,206,85,34,1,164,3,59,210,199,28,14,119,236,172,192,79,192,121,131,148,184,172,6,36,175,207,98,21,139,169,76,29,21,19,73,168,103,175,156,80,146,79,251,201,54,213,72,38,3,110,94,200,70,59,184,176,209,206,185,97,234,18,176,164,180,82,72,0,68,173,225,149,212,17,2,193,134,177,62,104,165,201,169,149,81,38,118,10,167,164,232,143,164,222,141,193,134,159,224,215,56,10,86,50,122,128,164,217,195,111,31,36,171,149,129,20,93,21,227,107,92,224,124,28,127,81,246,209,139,235,155,217,219,56,234,32,130,151,56,56,249,219,67,114,4,42,116,61,111,215,121,85,23,179,17,94,218,56,11,67,216,78,5,2,0,106,186,32,29,25,211,23,227,241,104,215,69,212,221,76,119,213,212,58,40,136,10,37,183,150,235,169,111,58,126,230,63,21,3,158,200,198,244,208,34,98,239,203,152,84,39,138,74,13,184,165,251,200,241,116,88,164,100,100,145,59,146,23,212,155,21,219,25,39,77,249,224,64,99,239,164,75,79,22,158,153,230,198,234,41,175,207,23,226,84,5,178,10,162,222,167,55,119,203,243,77,31,70,206,136,11,73,150,52,57,157,71,241,69,174,55,105,13,141,48,45,200,23,90,19,84,225,199,128,181,100,138,154,82,63,106,128,194,63,60,30,227,43,114,104,232,250,33,21,237,155,157,76,82,118,64,228,37,148,10,161,80,115,84,23,143,25,100,12,97,82,165,90,124,24,75,100,163,45,191,142,204,69,189,65,192,25,75,208,200,116,65,40,82,79,210,192,202,136,170,63,91,34,178,204,85,240,86,182,11,144,119,140,82,119,31,112,36,23,73,88,182,227,198,216,70,194,122,40,21,217,198,109,85,164,156,141,143,231,65,175,10,70,90,1,67,189,84,121,148,165,113,54,10,146,86,51,122,55,50,164,17,235,9,0,111,105,92,134,118,10,6,149,149,206,0,146,117,135,253,43,191,175,67,216,20,165,52,172,81,66,170,225,20,147,137,147,63,90,32,167,21,245,92,47,248,135,96,59,139,204,114,189,92,208,55,81,173,244,98,74,228,36,112,63,179,50,78,168,247,32,229,46,155,26,93,145,128,117,28,231,167,221,203,7,182,29,147,91,243,80,174,203,139,216,93,48,52,196,6,234,135,118,135,21,208,250,79,155,13,246,200,246,163,84,90,192,153,43,26,116,89,134,134,160,141,197,42,254,70,66,221,135,111,159,156,84,7,195,84,228,77,34,81,253,109,165,118,133,231,149,238,51,183,93,228],
    'Ashley': [19,147,218,117,20,224,77,113,136,79,230,84,232,125,161,147,253,29,100,130,54,114,195,213,77,53,166,52,144,171,234,17,18,40,55,211,150,11,140,117,14,173,82,77,112,30,139,214,81,9,204,182,36,213,250,232,68,228,136,172,28,107,252,251,237,113,176,69,173,73,177,130,117,126,92,20,40,249,159,97,133,213,180,76,10,46,177,158,88,182,229,242,230,151,135,227,194,53,255,163,226,27,144,50,28,236,80,252,67,248,251,116,234,138,6,154,113,211,217,40,196,126,234,124,118,187,136,36,117,6,231,33,71,166,77,218,196,214,29,118,109,225,134,201,101,101,12,160,118,60,142,233,186,44,105,127,235,204,47,53,247,138,180,98,223,212,221,102,81,169,129,40,182,250,223,32,107,77,246,106,47,74,163,175,172,227,137,110,249,100,135,89,42,155,202,163,115,99,203,208,254,37,255,82,184,47,86,98,217,191,230,254,95,28,10,186,166,109,135,47,129,189,230,219,57,49,50,49,152,67,84,93,146,203,240,87,196,137,228,120,228,82,7,102,125,181,218,33,199,198,186,178,243,40,190,41,121,87,207,196,10,255,139,216,179,196,150,44,112,255,106,93,10,175,29,60,134,57,185,173,141,141,186,6,81,253,196,81,215,63,136,156,211,17,162,141,112,155,120,189,179,203,81,96,177,23,94,18,9,201,41,192,167,82,9,235,183,114,23,145,185,68,149,129,210,6,85,169,142,218,71,115,49,254,189,140,147,33,255,138,221,153,198,172,34,34,195,149,24,78,210,183,12,123,115,67,182,178,18,5,166,81,42,102,156,125,71,150,152,159,228,216,86,174,31,212,153,232,164,34,231,175,51,75,11,20,215,140,188,62,225,178,240,153,106,237,170,62,43,151,241,185,25,93,227,32,220,84,187,42,147,85,67,52,209,52,174,227,43,103,160,60,240,184,101,218,197,36,65,163,230,91,133,238,254,223,89,126,31,119,88,40,71,134,101,143,3,220,215,179,247,230,38,45,36,253,74,29,134,210,235,218,196,34,84,25,191,14,27,111,113,238,212,34,126,212,166,155,62,51,249,219,202,180,243,181,39,111,200,11,131,223,174,59,200,246,170,248,198,24,43,77,64,206,102,81,150,142,199,161,149,23,105,87,12,248,44,208,66,17,53,229,187,255,199,108,183,154,196,163,237,224,33,225,209,131,33,253,137,135,168,131,255,126,138,76,48,8,39,77,183,219,204,171,27,246,1,252,184,132,254,72,215,126,144,215,194,44,60,246,240,139,90,78,202,213,252,175,6,162,70,143,0,177,211,184,160,59,69,139,253,62,181,141,26,10,25,112,123,218,35,254,201,225,204,235,84,181,91,211,235,12,128,180,197,101,161,45,33,40,65,173,213,14,254,15,211,232,223,213,37,197,97,27,24,211,178,244,125,251,156,193,12,182,202,80,23,107,61,46,201,246,111,74,201,236,38,99,49,53,56,164,68,250,118,122,157,10,116,203,225,182,30,84,138,12,121,218,43,253,130,132,133,64,233,25,42,29,102,221,234,46,70,207,217,37,6,134,143,188,214,125,1,68,253,104,82,91,50,128,113,188,16,153,100,125,99,243,5,73,116,213,85,119,109,12,62,123,166,166,124,180,141,224,232,65,185,88,80,242,183,96,155,99,216,171,169,18,65,237,187,200,175,173,222,189,123,154,84,236,200,93,129,156,4,138,88,45],
    'Michelle': [83,65,166,94,186,40,35,129,88,219,8,247,64,240,41,238,101,195,211,188,241,19,28,240,40,141,111,167,152,111,232,176,116,7,117,129,90,29,204,231,173,173,183,170,226,19,138,123,121,180,11,216,202,12,201,72,232,240,57,67,14,150,21,168,169,69,186,92,202,80,124,86,130,224,152,62,157,206,16,227,34,120,209,12,133,4,0,190,122,152,138,158,43,113,17,113,193,128,115,208,84,182,89,195,143,194,1,146,132,124,132,108,156,88,11,175,24,14,220,90,226,97,81,134,239,216,195,24,245,8,91,108,146,110,255,59,233,190,254,239,244,242,221,23,92,46,250,214,98,134,129,110,77,93,41,35,144,204,60,126,108,52,18,119,174,122,133,239,239,41,52,185,125,253,36,48,211,209,99,64,10,173,157,111,173,76,54,170,15,213,186,126,213,226,50,18,63,127,158,24,255,124,154,63,208,136,186,120,115,33,189,13,111,85,20,119,201,22,105,166,171,129,69,50,252,25,200,91,185,160,185,158,145,238,206,217,8,102,111,141,132,101,120,238,36,11,200,157,9,68,194,96,114,172,141,247,176,92,62,87,244,24,235,156,16,129,74,244,193,252,254,49,158,57,15,147,180,207,47,57,249,47,131,189,212,3,241,154,33,210,82,15,89,49,13,145,238,207,165,248,1,182,108,218,212,21,104,95,8,246,165,253,39,171,104,247,59,113,143,225,238,10,68,224,193,183,204,191,52,98,94,99,52,195,69,91,154,166,131,67,134,44,31,149,93,245,102,61,74,184,12,181,75,146,98,84,169,58,236,86,223,126,227,64,229,120,194,29,201,7,216,233,102,131,113,160,39,53,240,82,182,234,201,53,154,140,155,153,1,67,49,237,146,5,139,188,220,199,202,120,163,225,20,17,146,152,151,209,199,189,148,236,209,168,123,110,178,44,221,207,209,55,94,192,208,110,162,54,172,192,33,251,52,51,46,70,165,215,65,211,69,79,88,39,205,208,213,9,185,182,238,136,51,124,28,98,180,220,111,18,126,65,209,160,229,82,37,243,175,231,226,230,148,214,77,93,214,71,244,101,234,121,206,244,100,20,1,24,196,189,62,196,117,107,150,121,133,111,94,12,53,139,189,54,203,187,70,66,113,29,39,193,103,10,195,202,167,10,50,192,83,72,112,145,237,40,236,56,236,63,254,164,22,236,143,208,243,80,154,76,68,23,142,21,240,28,36,75,74,137,54,204,141,22,133,11,120,242,66,199,123,161,241,128,156,5,249,52,103,179,53,85,12,23,58,198,112,79,114,139,225,13,88,80,241,123,15,192,68,199,213,210,41,208,111,142,9,49,29,199,47,81,147,13,97,48,168,175,186,169,175,58,242,183,217,137,202,9,176,121,90,35,47,105,7,80,2,1,8,190,21,151,203,52,43,52,180,192,108,143,84,208,126,22,80,78,50,122,164,237,194,97,193,233,131,234,200,240,100,90,90,194,225,68,82,228,247,165,69,173,238,176,59,49,119,158,214,92,44,127,93,138,1,7,144,5,141,30,2,180,155,18,5,29,148,146,141,199,166,196,214,17,113,144,200,110,247,32,142,203,135,213,47,131,163,27,39,212,231,75,2,204,136,20,145,167,103,156,175,23,169,130,72,26,26,97,247,16,170,51,20,227,112,46,139,237,250,148,112,142,130,44,139,114,134,95,232,235,234,37,171,152,98,53,33,245,20,118,49,101,159,242,174,54,221,134,152,209,55,70,59,17,229,223,250,40,155,203,86,238,180,184,216,199,74,230,14,244,161,3,0,218,29,119,125,111,7,212,242,28,137,39,134,145,88,69,63,244,24,154,72,17,185,120,3,19,117,127,212,191,210,5,121,228,91,26,26,148,26,210,83,64,78,79,165,157,122,31,93,119,24,110,159,144,191,179,126,73,165,97,119,46,12,53,134,76,50,155,3,180,24,214,224,219,102,87,50,17,231,23,65,116,205,69,148,195,229,84,109,123,39,219,202,22,65,203,75,150,44,61,63,224,50,61,208,211,108,128,159,141,86,23,11],
    'Amelia': [181,76,202,147,158,148,218,90,143,224,189,51,169,47,110,106,25,218,189,136,234,33,233,8,211,118,55,195,93,170,74,104,47,63,33,221,15,136,8,58,11,192,95,55,5,135,11,50,131,193,144,92,178,230,208,64,254,227,93,105,150,76,245,149,231,230,215,61,32,29,181,185,139,238,140,198,32,6,55,123,81,178,234,127,130,152,164,218,206,9,214,63,105,106,109,229,219,189,209,187,92,196,122,127,181,188,197,38,154,115,121,235,254,226,218,124,219,34,14,192,20,23,128,234,185,29,254,143,52,4,163,132,185,251,54,72,127,43,83,76,124,40,32,42,75,119,96,105,66,103,151,79,122,171,201,181,133,94,108,48,204,83,14,121,210,205,113,112,82,117,160,234,34,98,156,37,4,13,191,141,13,104,173,71,77,150,198,108,228,155,217,135,11,9,169,12,48,209,110,167,253,157,168,148,40,136,209,182,130,141,176,41,233,223,188,33,239,77,6,84,35,237,17,187,150,31,226,120,65,148,214,54,117,122,184,187,66,36,18,38,42,113,157,55,203,118,254,120,163,36,3,8,6,30,118,0,135,43,143,104,137,207,80,133,18,43,191,251,244,86,44,62,224,102,246,30,8,167,223,167,249,192,29,230,51,212,108,252,102,60,222,150,122,96,46,246,151,195,157,178,106,240,147,81,153,18,92,6,221,17,102,89,123,94,45,208,2,132,221,0,136,166,189,119,171,97,173,195,152,146,223,82,231,170,246,103,119,109,225,108,174,83,43,234,122,208,48,54,173,65,43,139,102,112,97,227,27,186,187,234,57,197,117,187,146,167,157,79,246,123,197,217,67,227,177,63,37,17,190,239,188,188,94,156,91,35,239,37,33,111,83,189,24,64,108,66,48,98,23,50,175,131,155,3,243,249,140,63,106,80,108,234,122,109,47,8,120,26,12,208,132,11,60,107,150,129,40,77,129,171,226,244,47,233,227,101,118,141,48,164,187,238,249,190,72,68,137,151,235,0,228,42,125,130,86,222,161,36,43,248,6,35,135,237,27,155,87,26,35,65,39,190,193,18,111,239,196,12,100,114,166,22,148,194,125,158,101,179,197,54,40,223,47,214,79,214,234,76,23,90,31,204,155,140,129,150,53,122,204,245,144,170,135,182,141,235,97,174,41,118,0,246,196,6,55,246,221,217,118,143,11,226,9,140,195,127,182,103,229,102,252,106,22,192,114,96,104,143,140,205,63,210,255,44,32,147,27,242,29,238,83,89,134,86,240,29,197,140,109,134,24,120,153,125,152,64,6,4,65,47,167,84,223,117,1,202,249,34,103,193,240,79,118,227,137,145,144,67,25,2,30,184,203,118,182,72,221,9,82,209,50,30,102,24,105,176,133,39,91,204,51,145,226,190,163,171,32,192,47,250,36,7,231,179,180,164,1,30,210,1,85,38,237,36,130,209,214,220,61,18,228,175,94,81,222,158,118,17,251,109,201,221,165,204,51,246,91,203,69,235,51,223,150,190,67,62,152,81,204,28,136,63,89,197,176,249,140,107,103,199,71,230,173,149,218,62,155,228,200,71,64,72,58,96,25,99,52,152,66,45,183,211,86,111,245,40,19,251,134,20,243,191,27,239,229,119,68,196,26,177,104,23,152,19,197,75,60,121,169,217,171,13,58,65,36,182,127,119,122,156,171,53,210,190,25,72,106,232,184,179,115,32,206,27,218,40,113,22,253,205,15,121,189,121,193,206,198,12,222,224,11,64,208,29,208,70,252,156,165,17,218,0,174,241,195,240,146,97,186,237,56,67,101,128,71,95,134,76],
    'Jared': [90,44,193,127,13,42,172,77,104,49,205,27,237,212,42,213,68,228,157,199,167,5,89,133,251,133,219,72,167,124,131,201,71,79,73,68,60,86,174,194,48,66,205,111,87,57,142,28,172,126,43,214,168,83,227,1,170,173,158,118,187,201,236,157,58,236,22,107,181,58,194,254,90,96,178,28,162,201,178,217,138,83,207,50,1,233,165,113,138,159,191,213,71,20,232,131,165,235,61,112,91,241,193,103,198,232,8,1,131,65,25,123,234,84,146,171,127,252,15,236,93,174,29,98,46,38,167,244,78,125,249,43,95,15,63,205,13,22,122,242,188,240,175,124,241,240,127,208,248,184,66,137,95,147,23,243,213,221,218,204,247,61,244,57,134,218,159,217,163,214,188,8,89,238,37,227,247,68,253,182,20,145,169,92,182,84,160,41,77,64,167,200,232,136,217,118,156,194,105,10,197,40,253,209,58,60,140,199,233,161,137,112,176,133,64,204,114,203,0,129,36,230,174,195,229,99,88,74,78,249,199,87,120,80,207,161,90,13,229,210,227,246,33,254,12,132,171,157,153,75,242,123,82,228,57,125,190,177,172,194,174,192,54,164,144,142,238,47,153,73,164,184,65,143,56,94,227,248,56,189,40,153,219,16,16,209,35,200,37,75,20,57,247,30,237,46,231,6,166,134,195,249,125,40,14,35,93,10,201,125,150,234,195,121,193,69,20,106,202,21,246,176,113,135,254,44,112,236,55,39,79,75,111,155,102,118,122,3,199,98,27,2,44,145,120,71,58,86,128,33,1,57,173,255,190,240,40,48,245,26,51,110,184,229,145,131,106,134,78,227,69,207,49,184,117,111,249,212,176,74,205,228,148,227,170,72,21,123,210,168,16,171,87,233,99,178,24,239,210,56,117,62,84,207,218,72,52,174,112,174,204,166,214,15,122,217,65,87,76,170,99,240,169,145,243,121,89,99,183,217,179,108,208,50,246,105,152,92,108,86,247,35,163,2,2,31,177,31,34,142,112,218,19,21,227,44,187,134,175,53,172,208,251,59,152,97,3,123,99,33,190,141,80,225,198,135,117,134,19,99,48,152,76,199,154,16,65,84,17,191,55,184,164,70,207,190,90,186,62,78,200,110,106,109,57,144,252,37,198,246,183,24,48,145,186,224,100,128,109,42,143,142,133,215,143,56,245,190,17,119,48,132,250,167,232,80,28,61,228,183,33,62,47,110,62,128,135,248,105,105,205,255,184,203,229,41,219,41,230,164,76,128,232,6,90,128,237,90,186,246,57,50,207,199,13,62,118,238,182,241,62,149,205,11,9,90,129,250,106,177,209,3,177,4,242,66,114,189,127,50,50,188,86],
    'Benjamin': [1,68,180,45,153,147,164,228,199,106,232,39,31,104,78,189,215,247,173,166,84,204,19,222,17,45,22,3,99,212,84,234,192,214,183,105,138,158,146,128,154,81,178,233,164,75,87,180,33,185,200,186,177,121,229,220,166,168,217,9,15,157,202,189,88,119,135,189,41,133,224,195,205,214,250,65,243,112,102,209,255,36,157,131,190,157,244,193,205,16,89,195,110,67,108,65,165,24,97,83,186,0,22,203,216,165,248,76,168,210,122,8,124,225,60,34,33,103,206,44,159,44,214,61,19,212,187,52,231,119,192,74,44,117,91,123,240,64,118,211,74,62,170,154,94,81,70,117,196,45,13,202,115,163,73,196,198,246,61,201,1,186,12,51,183,245,165,226,145,17,111,36,127,83,22,200,142,67,126,77,94,208,218,209,202,194,90,57,193,168,1,187,120,34,244,35,35,38,58,111,42,228,62,145,143,13,109,141,118,8,197,20,139,82,80,5,238,32,240,60,149,234,66,82,175,71,2,188,182,166,17,5,127,172,184,118,70,183,168,207,253,123,160,199,95,92,146,216,135,198,92,131,108,136,217,230,47,172,232,118,235,227,221,77,5,160,84,210,231,132,191,43,2,5,64,183,1,101,81,34,7,187,29,144,53,102,47,99,110,192,59,100,250,143,160,103,88,157,27,81,161,245,1,100,155,127,137,240,50,47,52,151,238,88,126,222,92,56,114,220,67,61,217,68,33,42,40,56,103,7,127,174,146,124,116,180,206,249,9,27,209,137,41,253,23,52,113,9,58,46,36,198,132,152,144,246,7,116,172,231,80,44,99,123,127,159,154,212,234,83,234,0,216,40,250,189,183,125,58,129,91,132,80,126,162,193,109,230,7,25,137,217,53,214,249,4,216,179,202,35,69,190,53,98,156,79,191,121,96,233,179,39,48,181,247,72,10,14,194,64,251,241,169,57,171,122,160,11,176,187,160,26,17,7,242,27,83,45,1,177,24,239,55,199,83,166,18,138,50,246,178,159,162,78,227,132,173,232,96,32,76,11,221,81,64,35,100,64,29,145,215,199,73,203,65,101,150,42,0,85,199,104,193,200,112,215,146,151,66,233,65,144,97,75,91,247,191,62,156,123,64,63,115,176,101,134,60,221,190,94,211,60,123,51,254,238,168,252,88,199,111,69,232,38,206,94,241,193,152,125,76,10,221,120,132,7,97,123,186,191,25,220,174,80,24,211,137,168,101,66,49,40,204,230,42,144,131,193,209,55,95,203,95,172,36,28,125,133,67,100,250,194,255,232,96,217,111,154,153,28,208,40,214,167,180,50,19,47,130,252,213,72,174,161,116,74,27,49,98,34,128,39,185,108,252,169,63,22,178,108,107,227,131,233,235,204,241,217,128,83,5,51,111,67,13,225,33,122,12,114,243,141,12,182,101,66,130,137,113,20,202,140,143,201,152,45,61,107,83,164,111,247,47,218,209,131,228,180,159,25,106,41,168,120,47,4,6,202,217,25,21,151,226,119,21,118,112,2,248,15,150,254,154,193,228,221,216,101,201,38,70,181,9,21,249,34,88,243,129,41,239,55,161,32,181,209,195,53,192,169,207,46,84,151,26,88,185,3,12,130,93,111,189,78,224,49,176,94,48,200,179,200,210,147,116,206,231,52,115,14,214,121,53,202,53,11,98,12,167,178,129,9,128,22,91,91,160,130,144,148,29,45,212,92,129,8,72,41,40,149,255,91,147,35,88,133,151,27,47,103,233,115,174,123,67,190,195,72,20,10,98,222,107,60,64,113,158,45,226]
}

let currentQuestion = 0;
let answerStr = "";

async function startQuestions(name) {
    currentQuestion = 0;
    answerStr = "";
    document.getElementById('questionContainer').innerHTML = '';
    showQuestion(name);
}

function showQuestion(name) {
    let container = document.getElementById('questionContainer');
    container.innerHTML = `
        <p>Question #${currentQuestion + 1}: ${questions[name][currentQuestion]}</p>
        <input id="answer" type="text" autocomplete="off">
        <button onclick="checkAnswer('${name}')">Submit</button>
    `;
    var answerInput = document.getElementById("answer");

    // Add event listener for enter
    answerInput.addEventListener("keydown", function(event) {
        if (event.key === "Enter") {
            checkAnswer(name);
        }
    });
    answerInput.focus();
}


async function checkAnswer(name) {
    let input = document.getElementById('answer');
    let answer = input.value.toLowerCase();
    let hashBuffer = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(answer));
    let hashArray = Array.from(new Uint8Array(hashBuffer));
    let hashedAnswer = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
    // console.log(`User Answer: ${answer}`);
    // console.log(`Hashed Answer: ${hashedAnswer}`);

    if (hashedAnswer === answers[name][currentQuestion]) {
        currentQuestion++;
        answerStr += answer;
        if (currentQuestion < questions[name].length) {
            showQuestion(name);
        } else {
            let note = await decryptNote(name);
            console.log("Decrypted: " + note)
            document.getElementById('questionContainer').innerHTML = "Nice Job! Your secret message is below:";
            let div = document.createElement('div');
            div.id = 'note';
            div.textContent = note;
            document.body.appendChild(div);
        }
    } else {
        document.getElementById('questionContainer').innerHTML = `
            <p>Incorrect answer. Please try again.</p>
            <button onclick="startQuestions('${name}')">Try Again</button>
        `;
    }
}

async function decryptNote(name) {
    let hashedNote = encryptedNotes[name]
    // let hashedNote = await encryptNote(noteStr, answerStr)
    console.log("Congrats! Time to decrypt the hashed note with the key!");
    console.log(`hashed note: ${hashedNote}`);
    // console.log(`answer key: ${answerStr}`);

    let key = await generateKey(answerStr);

    let decryptedNoteBuffer = await crypto.subtle.decrypt(
        { name: 'AES-GCM', iv: new Uint8Array(12) },
        key,
        new Uint8Array(hashedNote)
    ).catch(e => console.error(e));
    let decoder = new TextDecoder();
    return decoder.decode(decryptedNoteBuffer);
}


// Used only in development
async function encryptNote(note, password) {
    let key = await generateKey(password);

    let encoder = new TextEncoder();
    let noteBuffer = encoder.encode(note);
    let iv = new Uint8Array(12);
    let encryptedNote = await crypto.subtle.encrypt(
        { name: 'AES-GCM', iv: iv },
        key,
        noteBuffer
    );
    return Array.from(new Uint8Array(encryptedNote));
    
}

async function generateKey(password) {
    let encoder = new TextEncoder();
    let passwordBuffer = encoder.encode(password);
    let hash = await crypto.subtle.digest('SHA-256', passwordBuffer);
    let key = await crypto.subtle.importKey(
        'raw',
        hash,
        { name: 'AES-GCM', length: 256 },
        false,
        ['encrypt', 'decrypt']
    );
    return key;
}